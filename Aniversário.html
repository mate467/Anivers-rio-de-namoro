<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Feliz Aniversário de Namoro pra gente ❤️</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg-1: #0b0010;        /* black-ish */
    --bg-2: #2a004d;        /* deep purple */
    --accent: #c86bff;      /* bright purple */
    --accent-2: #ff6bb8;    /* pink */
    --paper: #1b0f24;       /* dark paper for letter back */
    --paper-light: #fff;    /* letter inside */
    --muted: #bfa7d9;
    --glass: rgba(255,255,255,0.04);
    --card-radius: 18px;
  }

  *{box-sizing:border-box}
  html,body{height:100%; margin:0; font-family:'Poppins', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;}

  body{
    background: radial-gradient(1200px 600px at 10% 10%, rgba(120,42,200,0.18), transparent 8%),
                linear-gradient(180deg,var(--bg-2),var(--bg-1));
    color: var(--paper-light);
    display:flex;
    align-items:center;
    justify-content:center;
    min-height:100vh;
    padding:28px;
    overflow-y:auto;
  }

  .container{
    width:100%;
    max-width:1100px;
    display:grid;
    grid-template-columns: 480px 1fr;
    gap:32px;
    align-items:center;
    justify-items:center;
    padding:28px;
  }

  /* LEFT: Cake + small title */
  .left {
    width:100%;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:18px;
  }

  .headline{
    font-family:'Dancing Script', cursive;
    font-size:28px;
    color:var(--accent-2);
    letter-spacing:0.4px;
    text-transform:lowercase;
    margin:0;
    text-align:center;
    text-shadow: 0 3px 14px rgba(200,107,255,0.12);
  }

  /* Cake - SVG based for crispness */
  .cake-wrap{
    width:420px;
    max-width:92%;
    display:flex;
    align-items:center;
    justify-content:center;
    position:relative;
    padding:14px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:22px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.45);
    border: 1px solid rgba(255,255,255,0.03);
    overflow:visible;
  }

  /* We'll use an inline SVG below. Keep a small caption */
  .cake-caption{
    margin-top:8px;
    font-weight:600;
    color:var(--muted);
    font-size:14px;
    text-align:center;
  }

  /* RIGHT: Card / envelope */
  .right{
    width:100%;
    display:flex;
    align-items:center;
    justify-content:center;
  }

  .card {
    width:100%;
    max-width:560px;
    perspective:1200px;
  }

  .card-inner{
    width:100%;
    min-height:340px;
    transform-style:preserve-3d;
    transition: transform 800ms cubic-bezier(.2,.9,.22,1);
    cursor:pointer;
    position:relative;
  }

  .card.open .card-inner{ transform: rotateY(180deg); }

  .face{
    position:absolute;
    inset:0;
    border-radius:var(--card-radius);
    box-shadow: 0 18px 40px rgba(0,0,0,0.6);
    overflow:hidden;
    display:flex;
    flex-direction:column;
  }

  .face.front{
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.12));
    border: 1px solid rgba(255,255,255,0.03);
    align-items:center;
    justify-content:center;
    padding:24px;
    backface-visibility:hidden;
  }

  .front .btn-open{
    background: linear-gradient(90deg, var(--accent), var(--accent-2));
    color:#1a0014;
    padding:12px 20px;
    border-radius:999px;
    font-weight:700;
    border:none;
    box-shadow: 0 8px 20px rgba(200,107,255,0.18);
  }

  .front .note{
    color:var(--muted);
    margin-top:12px;
    font-size:13px;
  }

  .face.back{
    transform: rotateY(180deg);
    background: linear-gradient(180deg,#13061a, #22072e);
    border: 1px solid rgba(255,255,255,0.04);
    padding:18px;
    backface-visibility:hidden;
    color:var(--muted);
  }

  /* Letter content area (keeps text inside the card) */
  .letter{
    background: linear-gradient(180deg,#fff,#fff);
    color:#24121c;
    border-radius:12px;
    padding:18px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.35);
    width:100%;
    max-height: calc(100vh - 240px);
    overflow:auto;
  }

  .letter h1{
    font-family:'Dancing Script', cursive;
    color:var(--accent-2);
    font-size:26px;
    margin:0 0 8px 0;
    text-transform:lowercase;
  }
  .letter p{
    margin:8px 0;
    line-height:1.5;
    font-size:15px;
    color:#3f2a33;
  }
  .letter .signature{
    margin-top:10px;
    text-align:right;
    font-weight:700;
    color:#65394a;
  }

  /* Small helper */
  .hint{
    font-size:13px;
    color:var(--muted);
    margin-top:12px;
  }

  /* Confetti canvas */
  #confetti {
    position:fixed;
    top:0; left:0;
    width:100vw; height:100vh;
    pointer-events:none;
    z-index:90;
  }

  /* Responsive */
  @media (max-width:980px){
    .container{ grid-template-columns: 1fr; gap:20px; padding:18px; }
    .cake-wrap{ order:2; }
    .card{ order:1; }
    .card-inner{ min-height:420px; }
  }
</style>
</head>
<body>
  <canvas id="confetti"></canvas>

  <div class="container" role="main" aria-label="Cartão de aniversário">
    <!-- LEFT: cake -->
    <div class="left" aria-hidden="false">
      <h2 class="headline">feliz aniversário de namoro pra gente ❤️</h2>

      <div class="cake-wrap" aria-hidden="false" title="Bolo romântico">
        <!-- Inline SVG cake with heart topper and candles -->
        <svg width="360" height="220" viewBox="0 0 360 220" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img">
          <defs>
            <linearGradient id="g1" x1="0" x2="0" y1="0" y2="1">
              <stop offset="0" stop-color="#ffd6fb"/>
              <stop offset="1" stop-color="#ffb6ea"/>
            </linearGradient>
            <linearGradient id="g2" x1="0" x2="0" y1="0" y2="1">
              <stop offset="0" stop-color="#e9b8ff"/>
              <stop offset="1" stop-color="#b36bff"/>
            </linearGradient>
            <linearGradient id="g3" x1="0" x2="0" y1="0" y2="1">
              <stop offset="0" stop-color="#fff3c6"/>
              <stop offset="1" stop-color="#ffd27a"/>
            </linearGradient>
            <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
              <feDropShadow dx="0" dy="8" stdDeviation="16" flood-color="#000" flood-opacity="0.35"/>
            </filter>
          </defs>

          <!-- Shadow under cake -->
          <ellipse cx="180" cy="188" rx="110" ry="16" fill="#000" opacity="0.25"/>

          <!-- Bottom tier -->
          <g filter="url(#shadow)">
            <rect x="70" y="100" rx="36" ry="36" width="220" height="78" fill="url(#g2)"/>
            <!-- frosting drip -->
            <path d="M76 118c10 8 28 10 46 6 18-4 32 0 50 4 18 4 36 2 54-8" fill="#fff3f7" opacity="0.9"/>
          </g>

          <!-- Middle tier -->
          <rect x="100" y="64" rx="30" ry="30" width="160" height="56" fill="url(#g1)" />

          <!-- Top tier -->
          <rect x="132" y="36" rx="24" ry="24" width="96" height="40" fill="#ffd9ee" />

          <!-- candles (hearts as flames) -->
          <!-- positions across top -->
          <g id="candles" transform="translate(0,0)">
            <!-- Candle 1 -->
            <g transform="translate(140,24)">
              <rect x="-6" y="8" width="12" height="36" rx="3" fill="#fff" stroke="#f0d2e9" stroke-width="1"/>
              <g transform="translate(0,-6)">
                <path d="M0 -2 C6 -12 18 -2 0 10 C-18 -2 -6 -12 0 -2 Z" fill="url(#g3)" transform="scale(0.6) translate(0,-6)"/>
              </g>
            </g>

            <!-- Candle 2 -->
            <g transform="translate(170,20)">
              <rect x="-6" y="8" width="12" height="36" rx="3" fill="#fff" stroke="#f0d2e9" stroke-width="1"/>
              <g transform="translate(0,-6)">
                <path d="M0 -2 C6 -12 18 -2 0 10 C-18 -2 -6 -12 0 -2 Z" fill="url(#g3)" transform="scale(0.6) translate(0,-6)"/>
              </g>
            </g>

            <!-- Candle 3 -->
            <g transform="translate(200,18)">
              <rect x="-6" y="8" width="12" height="36" rx="3" fill="#fff" stroke="#f0d2e9" stroke-width="1"/>
              <g transform="translate(0,-6)">
                <path d="M0 -2 C6 -12 18 -2 0 10 C-18 -2 -6 -12 0 -2 Z" fill="url(#g3)" transform="scale(0.6) translate(0,-6)"/>
              </g>
            </g>

            <!-- Candle 4 -->
            <g transform="translate(230,22)">
              <rect x="-6" y="8" width="12" height="36" rx="3" fill="#fff" stroke="#f0d2e9" stroke-width="1"/>
              <g transform="translate(0,-6)">
                <path d="M0 -2 C6 -12 18 -2 0 10 C-18 -2 -6 -12 0 -2 Z" fill="url(#g3)" transform="scale(0.6) translate(0,-6)"/>
              </g>
            </g>
          </g>

          <!-- Heart topper centered -->
          <g transform="translate(180,18)">
            <path d="M0 18 C-18 2 -36 -6 -36 6 C-36 20 -6 36 0 44 C6 36 36 20 36 6 C36 -6 18 2 0 18 Z"
                  fill="url(#g2)" transform="scale(0.45) translate(0,-40)" style="filter: drop-shadow(0 8px 20px rgba(0,0,0,0.25));"/>
            <text x="0" y="3" text-anchor="middle" font-family="Dancing Script" font-size="12" fill="#fff" dy="4">2 anos</text>
          </g>

          <!-- Small sparkle -->
          <g transform="translate(80,70)" opacity="0.9">
            <circle cx="0" cy="0" r="3" fill="#fff"/>
            <rect x="-1" y="-8" width="2" height="6" rx="1" fill="#fff" transform="rotate(25)"/>
          </g>
        </svg>
      </div>

      <div class="cake-caption">Um bolo romântico pra celebrar nosso amor </div>
    </div>

    <!-- RIGHT: Card -->
    <div class="right" aria-hidden="false">
      <div class="card" id="card" aria-label="Carta de aniversario - clique para abrir" tabindex="0">
        <div class="card-inner" id="cardInner" role="button" aria-pressed="false">
          <!-- FRONT -->
          <div class="face front" aria-hidden="false">
            <div style="text-align:center">
              <h3 style="margin:0;color:var(--accent);font-family:'Dancing Script',cursive;">Uma carta pra você, Gab</h3>
              <div style="height:10px"></div>
              <button class="btn-open" id="openBtn" aria-controls="letter" aria-expanded="false">Abrir carta</button>
              <div class="hint">Clique ou pressione Enter/Espaço — chuva de confetes quando abrir 🎉</div>
            </div>
          </div>

          <!-- BACK (opened letter) -->
          <div class="face back" aria-hidden="true">
            <div class="letter" id="letter" role="document">
              <div style="position:relative;">
                <div style="font-size:12px;color:#b084b8;margin-bottom:6px;">Para: <strong>Gabrielly</strong></div>
                <h1 style="margin:0 0 8px 0;">feliz aniversário de namoro pra gente ❤️</h1>

                <p>
                  Minha Gab — meu <strong>amor</strong>, minha <strong>vida</strong>,meu bem.
                  Hoje comemoramos <strong>2 anos</strong> que estamos cada vez mais juntos.. 2 anos q vc me aguentou kakakak (eu não sei como)
                </p>
                <p>
                  Cada dia ao seu lado me lembra por que escolhi você: cada palavra sua ilumina os meus piores dias,
                  a sua voz me acalma, e o jeito que você transforma momentos simples em memórias eternas.
                </p>
                <p>
                  Obrigado por ser minha namorada, minha melhor amiga e meu amor. Que venham muitos anos, eu nunca irei deixar você
                  Te amo mais do que tudo — e vou passar toda a vida tentando mostrar o quanto eu amo vc ❤️.
                </p>

                <p class="signature">Com todo o meu amor, Mateus 💌</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>

<script>
/* ======== Interactions ======== */
const card = document.getElementById('card');
const cardInner = document.getElementById('cardInner');
const openBtn = document.getElementById('openBtn');
const confettiCanvas = document.getElementById('confetti');

/* Toggle open/close */
function setOpen(doOpen = true){
  if(doOpen){
    card.classList.add('open');
    cardInner.setAttribute('aria-pressed','true');
    openBtn.setAttribute('aria-expanded','true');
    // confetti burst
    confettiBurst(120);
  } else {
    card.classList.remove('open');
    cardInner.setAttribute('aria-pressed','false');
    openBtn.setAttribute('aria-expanded','false');
  }
}

card.addEventListener('click', ()=>{
  if(card.classList.contains('open')) return; // keep open on subsequent clicks
  setOpen(true);
});
card.addEventListener('keydown', (e)=>{
  if(e.key === 'Enter' || e.key === ' '){
    e.preventDefault();
    if(!card.classList.contains('open')) setOpen(true);
  }
  if(e.key === 'Escape' && card.classList.contains('open')) setOpen(false);
});

/* Keep card open once opened; can close with Esc
   (user wanted it to open on click) */

/* ======== Confetti (canvas) ======== */
const ctx = confettiCanvas.getContext('2d');
let W = confettiCanvas.width = innerWidth;
let H = confettiCanvas.height = innerHeight;
window.addEventListener('resize', ()=> { W = confettiCanvas.width = innerWidth; H = confettiCanvas.height = innerHeight; });

class Particle {
  constructor(x, y, vx, vy, size, color, life, spin){
    this.x = x; this.y = y; this.vx = vx; this.vy = vy;
    this.size = size; this.color = color; this.life = life; this.age = 0;
    this.spin = spin; this.rot = Math.random()*Math.PI*2;
  }
  update(dt){
    this.age += dt;
    if(this.age > this.life) return false;
    this.vy += 0.02 * (this.size/8); // gravity-like
    this.x += this.vx * dt * 0.06;
    this.y += this.vy * dt * 0.06;
    this.rot += this.spin * dt * 0.001;
    return true;
  }
  draw(ctx){
    ctx.save();
    ctx.translate(this.x, this.y);
    ctx.rotate(this.rot);
    ctx.fillStyle = this.color;
    ctx.fillRect(-this.size/2, -this.size/2, this.size, this.size*0.65);
    ctx.restore();
  }
}

const palette = ['#c86bff','#ff6bb8','#b89cff','#ffd6a5','#ffffff','#a57aff','#7be6d6'];
const particles = [];

/* Continuous gentle fall */
setInterval(()=>{
  for(let i=0;i<4;i++){
    const x = Math.random()*W;
    const y = -10;
    const vx = (Math.random()-0.5)*0.6;
    const vy = Math.random()*0.6 + 0.6;
    const size = Math.random()*8 + 6;
    const color = palette[(Math.random()*palette.length)|0];
    particles.push(new Particle(x,y,vx,vy,size,color,12000, (Math.random()-0.5)*0.4));
  }
}, 220);

/* Big burst function */
function confettiBurst(amount=80){
  for(let i=0;i<amount;i++){
    const cx = innerWidth * 0.5 + (Math.random()-0.5)*240;
    const cy = innerHeight * 0.08 + (Math.random()-0.5)*40;
    const angle = Math.random()*Math.PI*2;
    const speed = Math.random()*6 + 2;
    const vx = Math.cos(angle)*speed;
    const vy = Math.sin(angle)*speed - (Math.random()*4+2);
    const size = Math.random()*10 + 6;
    const color = palette[(Math.random()*palette.length)|0];
    particles.push(new Particle(cx,cy,vx,vy,size,color,9000 + Math.random()*5000, (Math.random()-0.5)*0.8));
  }
}

/* Animation loop */
let last = performance.now();
function loop(now){
  const dt = now - last;
  last = now;
  ctx.clearRect(0,0,W,H);
  for(let i=particles.length-1;i>=0;i--){
    const p = particles[i];
    const alive = p.update(dt);
    if(!alive || p.y > H + 80 || p.x < -80 || p.x > W + 80) particles.splice(i,1);
    else p.draw(ctx);
  }
  requestAnimationFrame(loop);
}
requestAnimationFrame(loop);

/* small welcome burst */
setTimeout(()=> confettiBurst(30), 700);

/* double-click to re-burst confetti */
card.addEventListener('dblclick', ()=> confettiBurst(120));

/* Prevent heavy CPU on hidden tab */
document.addEventListener('visibilitychange', ()=>{
  if(document.hidden){
    // let animation continue but particles spawn slower (we can let intervals run low-cost)
  }
});
</script>
</body>
</html>
